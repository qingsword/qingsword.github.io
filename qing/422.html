<!DOCTYPE html>
<!--Copyright©QingSword.COM︻☼1010D>-->
<html lang="zh-cn">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0,minimum-scale=1.0, maximum-scale=1.0,user-scalable=no">
	<meta name="description" content="晴刃,是一个致力推广实用计算机技术的个人博客;我们分享计算机知识;为计算机系统以及网络安全防范做出一份贡献。【专注技术 创造价值 共同进步】">
	<meta name="keywords" content="晴刃,晴,qing,qingsword,ccna图文笔记,ubuntu,linux,ubuntu server,mysql,node.js,javascript,python,计算机技术博客">
	<title>[CCNA图文笔记]-2-OSI参考模型和设备的对应关系 - QingSword.COM </title>
	<link rel="shortcut icon" type="image/x-icon" href="../logo/favicon.ico">
	<link rel="stylesheet" type="text/css" href="../css/basic.css">
	<link rel="stylesheet" type="text/css" href="../css/text.css">
</head>
<body>
	<!--header -->
	<header id="nav">
			<div class="nav-container"> 
				<!-- 根大纲-->
				<a href="http://www.qingsword.com" title="晴刃">
					<h1 class="nav-logo">晴刃</h1>
				</a>
				<h2 class="nav-site-description desc-hidden">
					自由、互助、分享、专注计算机技术
				</h2>
				<nav class="nav-links"> 
					<!-- nav连接大纲-->
					<h1 style="display:none;">网站导航</h1> 
					<ul>
						<li  class="li-hidden">
							<a href="../index.html" title="home">
								<span class="link-word"><img src="../logo/home.png" alt="home" class="link-img">首页</span>
							</a>
						</li>
						<li class="li-hidden">
							<a href="../web.html" title="web">
								<span class="link-word"><img src="../logo/web.png" alt="web" class="link-img">程序<span class="word-hidden">设计</span></span>
							</a>
						</li>
						<li class="li-hidden">
							<a href="../system.html" title="system">
								<span class="link-word"><img src="../logo/linux.png" alt="linux" class="link-img">系统<span class="word-hidden">应用</span></span>
							</a>
						</li>
						<li class="li-hidden">
							<a href="../net.html" title="net">
								<span class="link-word"><img src="../logo/net.png" alt="net" class="link-img">网络<span class="word-hidden">技术</span></span>
							</a>
						</li>
						<li>
							<a href="../sitemap.html" title="sitemap">
								<span class="link-word"><img src="../logo/archives.png" alt="archives" class="link-img"><span class="word-hidden">文章</span>归档</span>
							</a>
						</li>
					</ul>
				</nav>
			</div>		
	</header>
	<!-- /header -->

	<!-- content-->
	<div id="content">
		<div class="content-container">
			<!-- 文章区 -->
			<article class="text-container">
				<header class="text-header">
					<h1>[CCNA图文笔记]-2-OSI参考模型和设备的对应关系</h1>	
				</header><!-- /header -->
				<section class="text-body">
					<h2>引言</h2>
					<p>OSI（Open System Interconnect），即开放式系统互联。 一般都叫OSI参考模型，是ISO（国际标准化组织）组织在1985年研究的网络互联模型，这篇文章给大家介绍一下OSI参考模型以及在这个参考模型下设备是如何运作的。</p>
					<!-- 目录 -->
					<h2>文章目录</h2>
					<ul class="contents">	
						 <li><a href="#CCNA-iso-osi-1">0×1.ISO/OSI参考模型和设备的关系</a></li>
						 <li class="subli"><a href="#CCNA-iso-osi-2">a.物理层(Physical Layer)</a></li>
						 <li class="subli"><a href="#CCNA-iso-osi-3">b.数据链路层(Data Link Layer)</a></li>
						 <li class="subli"><a href="#CCNA-iso-osi-4">c.网络层(Network)</a></li>
						 <li class="subli"><a href="#CCNA-iso-osi-5">d.传输层(Transport Layer)</a></li>
						 <li class="subli"><a href="#CCNA-iso-osi-6">e.会话层(Session Layer)</a></li>
						 <li class="subli"><a href="#CCNA-iso-osi-7">f.表示层(Presentation Layer)</a></li>
						 <li class="subli"><a href="#CCNA-iso-osi-8">g.应用层(Application Layer)</a></li>
					 </ul>
					<!-- /目录 -->

					<!-- 正文 -->
					<h2 id="CCNA-iso-osi-1">0×1.ISO/OSI参考模型和设备的关系</h2>


					
					<p>这是一个标准的OSI七层参考模型，从下往上依次是：物理层、数据链路层、网络层、传输层、会话层、表示层、应用层；</p>
					<img src="images/Cisco-CCNA-OSI-1.jpg" alt="Cisco-CCNA-OSI-1">
					<p>下面将详解在这个参考模型中，我们的设备都运行在哪一层，这些知识的了解会对以后的学习非常有帮助。</p>

					<h3 id="CCNA-iso-osi-2">a.物理层(Physical Layer)</h3>

					<p>物理层关心的典型问题就是用什么方式来发送1和0，一位的持续时间，是否可同时双向进行，连接如何建立和如何终止等。</p>
					<p>工作在物理层的设备有：</p>
					<p class="indent-p">
						中继器(repeater)： 双绞线（RJ-45接口网线）的理论最大传输距离是100M，超过100M信号会衰减，这时候就要用到中继器，它能起到放大信号延长传输距离的作用。<br><br>
						集线器(hub)：集线器相当于一个多端口的中继器，也能起到放大信号的作用，并且集线器是属于半双工模式的（简单的理解成在同一时刻只有一个方向的数据可以传输，收的时候不能发，发的时候不能收），而在集线器连接的网络中，不管有多少个集线器，都只有一个广播域和一个冲突域。集线器工作原理如下图：
					</p>
					<img src="images/Cisco-CCNA-OSI-2.jpg" alt="Cisco-CCNA-OSI-2">
					<p class="indent-p">
						因为集线器属于物理层设备，无法判断数据链路层的MAC地址以及网络层IP地址，所以在这个集线器相连的网络里，假设PC0封装数据发送给PC1，集线器接收到PC0发来的数据后，直接将它转发到除接收端口以外的所有端口，这时候PC1/3/4都能收到这个数据，只不过根据包头部的MAC地址信息，只有PC1会处理它，PC3/4将丢弃这个数据包，而如果PC3/4上面运行了数据包分析软件，就可以捕获并分析PC0发出的数据，这种网络拓扑设计将非常不安全。
					</p>

					<h3 id="CCNA-iso-osi-3">b.数据链路层(Data Link Layer)</h3>

					<p>数据链路层的主要功能是在不可靠的物理层上进行数据的可靠传输，将用户数据封装成帧（Frame），进行CRC效验（循环冗余效验）以及防止高速发送方的数据将低速方淹没等。</p>

					<p>工作在数据链路层的设备主要有：</p>
					<p class="indent-p">
						网卡(NIC Network Interface Card)：也叫网络适配器，在生产时将一个唯一的网络节点地址（MAC地址）烧录到了它的ROM中。MAC地址占用48位，前24位代表厂商，后24位为设备号。MAC地址可以通过一些软件设备来更改，但是更改的仅仅是显示，ROM中的MAC地址除非重新烧录否则无法更改。Windows系统在CMD中输入"ipconfig /all"来查看网卡的MAC地址；Linux系统可以在终端中输入"ifconfig"来查看；<br><br>
						网桥(Bridge)：网桥可以将两个局域网（LAN）连接并按照MAC地址转发数据帧，就好像他们是一个LAN一样，现在网桥大多应用于软件。工作原理如下图：
					</p>
					<img src="images/Cisco-CCNA-OSI-3.jpg" alt="Cisco-CCNA-OSI-3">
					<p class="indent-p">
						图中A、C连接在集线器1（Hub1）上，B、D连接在Hub2上，Hub1的一个接口连接在网桥的接口1上，Hub2的一个接口连接在网桥的接口2上（它们之间的连线都是直通线，集线器，网桥，计算机，三者属于不同设备，使用直通线），各PC的MAC地址以及IP地址如上图所示，其工作原理如下：<br><br>
						1）网桥如果刚刚加电启动，它的MAC地址缓存为空，此时假设A要发送数据给C，并且A已经知道C的MAC地址（这中间涉及到一个ARP获取MAC地址的操作，这里暂时不讨论），A将数据封装好发送给Hub1，Hub1是一个物理层设备，它简单的将信号放大从除接收端口以外的其他端口将数据发送出去（发送给C和网桥的接口1）；<br><br>
						2）网桥从接口1接收到A发过来的数据后，首先添加这个数据帧的源MAC地址，既A的MAC（AAAAAAAAAAAA）和对应的端口1添加到自己的MAC地址表中，然后从自己的MAC地址表中去查找这个数据帧目的地C的MAC地址，但是此时找不到，所以网桥以广播形式将这个数据帧从接口2发送出去；<br><br>
						3）集线器2收到这个数据帧，它将这个数据帧从除接收端口以外的其他端口发送出去，D和B都接收到了这个数据帧，D和B对数据帧进行检查时发现目的MAC地址与自己的网卡MAC地址不相同，计算机D和B丢弃这个数据帧；<br><br>
						4）在第1步中C也同时收到了这个数据帧，C检查目的MAC地址的时候发现，与本机相同，C接收这个数据包，并回发数据包对A进行确认，C封装一个源地址为自己MAC地址，目的地址是A的MAC地址的数据帧发送给集线器1，集线器将这个数据帧发给网桥的接口1和A；<br><br>
						5）网桥接收到这个数据帧，它首先添加C的MAC和对应的接口1到自己的MAC地址表，然后查询地址表的时候发现A的MAC地址同样处在接口1，网桥不再将这个数据帧从接口2发出，也不会将这个数据帧再重新从接口1发回去；<br><br>
						6）A收到C发回的确认，通信成功；<br><br>
						7）通过这种形式，最后网桥会学习到这个简单局域网中所有的电脑的MAC地址以及所在接口。如下：<br>
					</p>
					<table border="2" style="margin:0 0 10px 40px;border-collapse: collapse;width:260px;text-align: center;">
						<tr>
							<th>MAC Address</th>
							<th>端口</th>
						</tr>
						<tr>
						<td>AAAAAAAAAAAA</td>
							<td>1</td>
						</tr>
						<tr>
							<td>BBBBBBBBBBBB</td>
							<td>2</td>
						</tr>
						<tr>
							<td>CCCCCCCCCCCC</td>
							<td>1</td>
						</tr>
						<tr>
							<td>DDDDDDDDDDDD</td>
							<td>2</td>
						</tr>
					</table>
					<p class="indent-p">一个网桥包含两个冲突域、一个广播域；<span style="color: #FFAA3E;">冲突域是发送一个单播会影响的范围，广播域是发送一个广播会影响的范围。</span>
					</p>
					<p class="indent-p">注：网桥并不具备三层设备的特性，这就意味着如果通过网桥将两个不同网段的局域网连接起来，这两个局域网之间是无法通信的，除非在其中配置默认路由指向一台三层设备，这台三层设备需要具有去往这两个网段的路由，否则当计算机往其他网段发送数据时，由于本地路由表并没有这个网段的路由，也没有配置默认路由，数据会在发送端直接被丢弃。</p>
					<p class="indent-p">
						交换机（Switch）: 可以将交换机简单的看做多端口的网桥，因为它也根据收到的数据帧的源地址进行学习，也根据MAC地址表中的目的地址进行转发，但交换机有下面几个需要注意的地方，请看下图：
					</p>
					<img src="images/Cisco-CCNA-OSI-4.jpg" alt="Cisco-CCNA-OSI-4">
					<p class="indent-p">
						假如这个交换机学习到的MAC地址表如下：
					</p>
					<table border="2" style="margin:0 0 10px 40px;border-collapse: collapse;width:260px;text-align: center;">
						<tr>
							<th>MAC Address</th>
							<th>端口</th>
						</tr>
						<tr>
						<td>AAAAAAAAAAAA</td>
							<td>1</td>
						</tr>
						<tr>
							<td>BBBBBBBBBBBB</td>
							<td>2</td>
						</tr>
						<tr>
							<td>CCCCCCCCCCCC</td>
							<td>3</td>
						</tr>
					</table>
					<p class="indent-p">
						其一：交换机对已知的单播帧，只发往对应的端口；比如A发给B，交换机中学习到了B的MAC，那么直接发往端口2；<br>
						其二：交换机对未知的单播帧，进行泛洪转发（即发往除接收端口以外的所有端口），比如C发送一个单播帧给D，这个数据帧到达交换机后，交换机MAC表中还没有学习到D的MAC，交换机将这个数据帧从1、2、4端口发出；<br>
						其三：交换机对所有广播和组播，进行泛洪转发（即发往除接收端口以外的所有端口）；
					</p>
					<p class="indent-p">
						交换机可以划分为下面三类：<br><br>
						传统交换机：属于链路层，一个广播域，每个接口是一个冲突域；<br>
						VLAN交换机：属于链路层，可网管型，可以划分多个VLAN，每个VLAN是一个广播域，每个接口是一个冲突域，并且可以配置IP地址；<br>
						三层交换机：比VLAN型交换机多了路由功能，可以理解成交换机+路由器，属于OSI模型网络层；
					</p>

					<h3 id="CCNA-iso-osi-4">c.网络层(Network)</h3>

					<p>路由器和三层交换机都属于网络层设备，它们是应用于不同网段间的设备；路由器的每个端口属于一个单独的广播域，也是一个单独的冲突域。</p>

					<h3 id="CCNA-iso-osi-5">d.传输层(Transport Layer)</h3>
					
					<p>传输层实现了用户进程间端到端的通信（End-to-End），传输层相关的协议有TCP、UDP等。我们会经常看到这两个协议名称出现在Windows CMD的"netstat -ano"这条命令的显示里，Linux下可以在终端中输入"netstat -nautp"来查看这些端口。</p>

					<h3 id="CCNA-iso-osi-6">e.会话层(Session Layer)</h3>

					<p>会话层提供的主要服务是会话控制、同步、重传等。</p>

					<h3 id="CCNA-iso-osi-7">f.表示层(Presentation Layer)</h3>

					<p>表示层提供的主要服务为数据的编码、压缩、加密解密等。</p>

					<h3 id="CCNA-iso-osi-8">g.应用层(Application Layer)</h3>
					<p>应用层包含了大量协议的应用，最常见的有： HTTP-TCP80、FTP-TCP21、SMTP-TCP25、POP3-TCP110、DNS-TCP/UDP53、TELNET-TCP23等。</p>
								
				<!-- /正文 -->

				<footer class="text-footer">
					<p>
						*转载请注明来自:<a title="晴刃-自由、互助、分享、专注计算机技术。" href="http://www.qingsword.com" target="_blank">晴刃(QingSword.COM)</a>
					</p>
					<p>*原文连接:<a title="[CCNA图文笔记]-2-OSI参考模型和设备的对应关系" href="http://www.qingsword.com/qing/422.html" target="_blank">http://www.qingsword.com/qing/422.html</a></p>
				</footer>
			</article>
			<!-- /文章区 -->	
		</div>
	</div>
	<!-- /content -->
	
	<!-- footer -->
	<footer id="footer">
		<div class="footer-container">
			QingSword.COM &nbsp;<img src="../logo/by-nc-sa.png" alt="Creative Commons" title="Creative Commons">
		</div>
	</footer>
	<!-- /footer -->
</body>
</html>
